(function(t){function i(i){for(var a,s,o=i[0],h=i[1],c=i[2],l=0,d=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&(t[a]=h[a]);u&&u(i);while(d.length)d.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,i=0;i<r.length;i++){for(var e=r[i],a=!0,o=1;o<e.length;o++){var h=e[o];0!==n[h]&&(a=!1)}a&&(r.splice(i--,1),t=s(s.s=e[0]))}return t}var a={},n={app:0},r=[];function s(i){if(a[i])return a[i].exports;var e=a[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=a,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)s.d(e,a,function(i){return t[i]}.bind(null,a));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=i,o=o.slice();for(var c=0;c<o.length;c++)i(o[c]);var u=h;r.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";e("85ec")},"274d":function(t,i,e){t.exports=e.p+"img/monsterToLeft.54c160b8.png"},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),n=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("h3",[t._v("Carro contra os Monstros")]),e("canvas",{attrs:{id:"app-canvas"}}),e("hr")])}],s=(e("cb29"),e("4de4"),e("d3b7"),e("b0c0"),e("7db0"),e("caad"),e("2532"),e("99af"),e("3835")),o=e("ade3");e("c740"),e("a434"),e("b64b"),e("159b"),e("4fad");function h(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=i?document.getElementById(i):document.querySelector("canvas"),a=e.getContext("2d"),n=["keydown","keyup","click"],r=[];this.games=r,this.ctx=a,this.width=700,this.height=450,a.canvas.width=700,a.canvas.height=450,n.forEach((function(t){document.addEventListener(t,(function(i){f(t,i)}))})),this.loop=function(){window.requestAnimationFrame(t.loop),t.beforeLoop()||(d(),c(),u(),t.afterLoop())},this.loopDebugger=function(i){i||(i=300),setInterval((function(){t.beforeLoop()||(d(),c(),u(),t.afterLoop())}),i)},this.beforeLoop=function(){},this.afterLoop=function(){},h.time=0,setInterval((function(){return h.time+=10}),10),this.addRect=function(t){return r.push(new b(t))},this.addImage=function(t){return r.push(new y(t))},this.addElement=function(t){return r.push(t)},this.removeElement=function(t,i){var e=r.findIndex((function(i){return i===t}));r.splice(e,1),i&&i()},this.removeAllElement=function(){t.games.splice(0,t.games.length)};var c=function(){return r.forEach((function(t){return t.update()}))},u=function(){return r.forEach((function(t){return t.draw(a)}))},l=a.createLinearGradient(0,0,0,this.height);l.addColorStop(0,"#c0c5c5"),l.addColorStop(1,"#2c3e50");var d=function(){a.fillStyle=l,a.fillRect(0,0,a.canvas.width,a.canvas.width)},f=function(t,i){r.forEach((function(e){"function"===typeof e[t]&&e[t](i)}))},m=new Date;function g(t){var i=this;this.attributes={axisX:0,axisY:0,directX:0,directY:0,width:100,height:100,color:"",velocity:1};var e=Object.keys(this.attributes);e.forEach((function(t){Object.defineProperties(i,Object(o["a"])({},t,{get:function(){return i.attributes[t]},set:function(e){return i.attributes[t]=e}}))})),Object.entries(t).forEach((function(t){var e=Object(s["a"])(t,2),a=e[0],n=e[1];(0===n||n)&&(i[a]=n)}))}function v(t){var i=this;this.moveTo=function(){return{x:i.directX,y:i.directY}},this.keydown=function(i){return t(i.keyCode,!0)},this.keyup=function(i){return t(i.keyCode)}}function x(){var t=this,i=function(i,e){var a=e?-1:0,n=e?1:0;37===i?t.directX=a:38===i?t.directY=a:39===i?t.directX=n:40===i&&(t.directY=n)};v.call(this,i)}function p(){var t=this,i=function(i,e){var a=e?-1:0,n=e?1:0;38===i?t.directY=a:40===i&&(t.directY=n)};v.call(this,i)}function w(){var t=this,i=function(i,e){var a=e?-1:0,n=e?1:0;37===i?t.directX=a:39===i&&(t.directX=n)};v.call(this,i)}function b(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.call(this,i),x.call(this),this.update=function(){t.axisX+=t.velocity*t.directX,e(),t.axisY+=t.velocity*t.directY,a()},this.draw=function(i){i.fillStyle=t.color,i.fillRect(t.axisX,t.axisY,t.width,t.height)};var e=function(){t.axisX<0?t.axisX=0:t.axisX+t.width>h.width&&(t.axisX=h.width-t.width)},a=function(){t.axisY<0?t.axisY=0:t.axisY+t.height>h.height&&(t.axisY=h.height-t.height)}}function y(t){var i=this;b.call(this,t);var e=new Image;e.src=t.image,this.draw=function(t){t.drawImage(e,i.axisX,i.axisY,i.width,i.height)}}this.getTime=function(){var t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),data:t,startGame:m,diff:function(i){return t.getTime()-i.getTime()}}},h.width=this.width,h.height=this.height,h.Attributes=g,h.MoveAxis=x,h.MoveAxisX=w,h.MoveAxisY=p,h.MoveAxisY=p,h.BaseMove=v}function c(t,i){var e=this;h.call(this,t,i);var a=this,n=i.jeepImage,r=425,s={status:"stop",action:""},o={monsters:0,bombs:0,bullets:0},c=5,u=0,l=[2,2,3,5,5],d=[1,2,3,4,5],f=[20,40,60,80,100],m=l[Math.floor(Math.random()*c)],g=d[Math.floor(Math.random()*c)],v=f[Math.floor(Math.random()*c)];document.addEventListener("keydown",(function(t){13===t.keyCode&&(s.action="start")})),this.beforeLoop=function(){if("start"===s.action&&"stop"===s.status)e.removeAllElement(),s.status="run",s.action="",x();else{if("dead"===s.action&&"run"===s.status)return o.bombs=0,o.bullets=0,o.monsters=0,s.status="stop",!0;if("dead"===s.action&&"stop"===s.status)return!0}},this.ctx.fillStyle="#2A0C0CBF",this.ctx.font="16px arial",this.ctx.fillText("Tecla ENTER para come√ßar!",this.axisX/2,h.height/2);var x=function(){e.addElement(new w({image:n})),e.addElement(new p),e.addElement(new X({image:i.monsterImageToLeft,image1:i.monsterImageToRight})),e.addElement(new E({}))};function p(){var t=this;this.axisX=0,this.axisY=r,this.width=h.width,this.height=20,this.update=function(){},this.draw=function(i){i.fillStyle="#4E3B31",i.fillRect(t.axisX,t.axisY,t.width,t.height)}}function w(t){var i=this,e=100;t.width=e+e/2,t.height=e,t.velocity=2,t.axisY=h.height-e,h.MoveAxisX.call(this,t),h.Attributes.call(this,t),M.call(this),this.margin=20;var n=new Image;n.src=t.image;var r={axisX:this.axisX+this.margin,axisY:this.axisY+this.margin,width:this.width-2*this.margin,height:this.height-this.margin,color:""};this.update=function(){i.axisX+=i.velocity*i.directX,o(),r.axisX=i.axisX+i.margin,r.axisY=i.axisY+i.margin,r.color="",i.checkCollision({objectName:["Bullet","Bomb"],target:r,callback:c})};var o=function(){i.axisX<0?i.axisX=0:i.axisX+i.width>h.width&&(i.axisX=h.width-i.width)};this.draw=function(t){t.fillStyle=r.color,t.fillRect(r.axisX,r.axisY,r.width,r.height),t.drawImage(n,i.axisX,i.axisY,i.width,i.height)},a.addElement(new b({jeep:this}));var c=function(){r.color="yellow",s.action="dead"}}function b(t){var i=this;h.Attributes.call(this,t),h.MoveAxisY.call(this);var e=30,n=t.jeep;this.width=50,this.height=20,this.degrees=0,this.margin=10;var r=0,s=0,c=e,u=function(t,i){var e=i?-1:0,a=i?1:0;38===t?r=e:40===t?r=a:32===t&&(s=a)};this.update=function(){i.axisX=n.axisX+i.margin,i.axisY=n.axisY+i.margin,l(r),d(s),c++},this.draw=function(t){t.save(),t.fillStyle="green",t.translate(n.axisX+i.margin,n.axisY+i.margin),t.rotate(i.degrees*Math.PI/180),t.fillRect(0,-10,i.width,i.height),t.translate(0,0),t.restore()};var l=function(t){t&&(i.degrees+=t/3,i.degrees<-90?i.degrees=-90:i.degrees>0&&(i.degrees=0))},d=function(t){if(t&&!(c<e)){c=0;var n=new y({cannon:i,angle:i.degrees});a.addElement(n),o.bullets++}};h.BaseMove.call(this,u)}function y(t){var i=this;h.Attributes.call(this,t),this.padding=10,this.radius=5,this.width=this.radius/2,this.height=this.radius/2;var e=.02,n=3.8,r=t.cannon,s=t.angle,o=n*Math.cos(s/180*Math.PI),c=n*Math.sin(s/180*Math.PI);this.axisX=r.axisX+o,this.axisY=r.axisY+c,this.update=function(){u(),l()},this.draw=function(t){t.beginPath(),t.fillStyle="red",t.arc(i.axisX+2*i.radius,i.axisY,i.radius,0,2*Math.PI),t.fill()};var u=function(){i.axisX+=o,i.axisY+=c,r.width*Math.cos(s/180*Math.PI)<i.axisX&&(c+=e)},l=function(){(i.axisX>h.width||i.axisY>h.height)&&a.removeElement(i)}}function X(t){var i=this;M.call(this);var e=new Image;e.src=t.image;var n=new Image;n.src=t.image1,this.createdAt=new Date,this.launchBomb=!1,this.lastLaunchBomb=this.createdAt,this.velocity=t.velocity||2,this.width=50,this.height=50,this.axisX=t.axisX||0,this.axisY=t.axisY||0,this.direct={x:1,y:0},this.update=function(){i.checkCollision({objectName:"Bullet",removeTarget:!0,removeObject:!0,callback:function(){return o.monsters++}}),r(),s(),i.axisX+=i.direct.x*i.velocity},this.draw=function(t){i.direct.x>0?t.drawImage(e,i.axisX,i.axisY,i.width,i.height):t.drawImage(n,i.axisX,i.axisY,i.width,i.height)};var r=function(){i.axisX+i.width>h.width?i.direct={x:-1,y:0}:i.axisX<0&&(i.direct={x:1,y:0})},s=function(){if(!(a.getTime().diff(i.lastLaunchBomb)/1e3<1)){var t=a.getTime().second-i.createdAt;i.launchBomb=t%5===0||t%3===0,i.launchBomb&&(a.addElement(new Y({monster:i})),i.lastLaunchBomb=new Date)}}}function Y(t){var i=this;M.call(this);var e=t.monster;this.id=j(),this.axisX=e.axisX,this.axisY=e.axisY+e.height,this.width=10,this.height=10,this.velocity=1,this.rate=.1,this.update=function(){i.axisY+=i.velocity,i.width+=i.rate,i.height+=i.rate,n(),i.checkCollision({objectName:"Bullet",target:i,removeTarget:!0,removeObject:!0,callback:function(){return o.bombs++}})},this.draw=function(t){t.fillStyle="orange",t.fillRect(i.axisX,i.axisY,i.width,i.height)};var n=function(){var t=s(),e=r;t&&(e=t.axisY),i.axisY+i.height>e&&(i.axisY=e-i.height,i.rate=0)},s=function(){var t=a.games.filter((function(t){return t.id!==i.id&&"Bomb"===t.constructor.name})).reverse(),e=t.find((function(t){return 0===t.rate&&t.axisX+t.width>i.axisX&&t.axisX<i.axisX+i.width&&t.axisY+t.height>i.axisY}));return e}}function M(){var t=this;this.checkCollision=function(i){var e=i.objectName,n=i.target,r=i.removeObject,s=i.removeTarget,o=i.callback;n||(n=t);var h=[];h=Array.isArray(h)?a.games.filter((function(t){return e.includes(t.constructor.name)})):a.games.filter((function(t){return t.constructor.name===e}));var c=h.find((function(t){return t.axisX+t.width>n.axisX&&t.axisX<n.axisX+n.width&&t.axisY+t.height>n.axisY&&t.axisY<n.axisY+n.height}));c&&(o&&o(c),r&&a.removeElement(c),s&&a.removeElement(n))}}function E(t){var i=this;h.Attributes.call(this,t);var e=15;this.axisX=0,this.axisY=h.height-e,this.width=h.width,this.height=e,this.update=function(){},this.draw=function(t){var e="Tiros: ".concat(o.bullets,". Monstros: ").concat(o.monsters,". Bombas: ").concat(o.bombs);t.fillStyle="#FFF",t.fillRect(i.axisX,i.axisY,i.width,i.height),t.fillStyle="#2A0C0CBF",t.font="16px arial",t.fillText(e,i.axisX+2,h.height-2)}}this.afterLoop=function(){var t=e.getTime().second;if("run"===s.status&&u!==t&&t%m===0){for(var a=Math.round(o.monsters/10)+1,n=0;n<a;n++)e.addElement(new X({image:i.monsterImageToLeft,image1:i.monsterImageToRight,velocity:g+n,axisY:v+3*n,axisX:Math.floor(Math.random()*h.width)}));m=l[Math.floor(Math.random()*c)],g=d[Math.floor(Math.random()*c)],v=f[Math.floor(Math.random()*c)],u=t}};var I=0,j=function(){return I++}}var u={data:function(){return{main:null}},mounted:function(){var t=e("8df8"),i=e("274d"),a=e("7059");this.main=new c("app-canvas",{jeepImage:t,monsterImageToLeft:i,monsterImageToRight:a}),this.main.loop()},methods:{addRect:function(){this.main.addRect({color:"yellow",velocity:10})},addImage:function(){this.main.addImage({color:"gray",image:e("8df8"),velocity:25}),this.main.addImage({color:"gray",image:e("274d"),velocity:10,width:50,height:50})}},name:"App"},l=u,d=(e("034f"),e("2877")),f=Object(d["a"])(l,n,r,!1,null,null,null),m=f.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(m)}}).$mount("#app")},7059:function(t,i,e){t.exports=e.p+"img/monsterToRight.4b95d79e.png"},"85ec":function(t,i,e){},"8df8":function(t,i,e){t.exports=e.p+"img/jeep.98c662f2.png"}});
//# sourceMappingURL=app.f71acab7.js.map